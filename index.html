---
layout: home
title: Home
---

<link href="https://fonts.googleapis.com/css?family=Cutive+Mono" rel="stylesheet">
<style>

    /*style for food; lifted from https://codepen.io/wifeo/pen/KwdXwV*/
    .food {

        position: absolute;
        visibility: hidden;
        opacity: 0.3;
        width: 0px;
        height: 0px;
        border: none;
        text-align: center;
        font-size: 32px;
        box-shadow: 0 0 0 0 rgba(128, 255, 128, 0.7);
        border-radius: 50%;
        background-color: rgba(128, 255, 128, 1);
        animation: pulse 3s infinite cubic-bezier(0.66, 0, 0, 1);
    }

    @keyframes pulse {
        to {
            box-shadow: 0 0 0 45px rgba(128, 255, 128, 0);
        }
    }

    .life {

        position: absolute;
        z-index: 3;
        opacity: 0.8;
        width: 218px;
        height: 72px;
        border: none;
        text-align: center;
        font-size: 16px;
        font-family: 'Cutive Mono', monospace;
        box-shadow: 0 0 0 0 rgba(128, 255, 128, 0.5);
        border-radius: 50%;
        background-color: rgba(128, 255, 128, 0.7);
    }
</style>

<!--<input id="qty" value="lel" />-->
<button class="food" id="start_button"></button>

<div class="container content">
    <ul class="social-links">
        <li>
            <a class="social-icon" target="_blank" href="https://twitter.com/alexeyguzey"
               style="z-index: 2; position:relative;">
                <div data-icon="ei-sc-twitter"></div>
            </a>
        </li>
        <li>
            <a class="social-icon" target="_blank" href="https://facebook.com/alexeyguzey"
               style="z-index: 2; position:relative;">
                <div data-icon="ei-sc-facebook"></div>
            </a>
        </li>
        <li>
            <a class="social-icon" target="_blank" href="https:/vk.com/alexeyguzey"
               style="z-index: 2; position:relative;">
                <div data-icon="ei-sc-vk"></div>
            </a>
        </li>
        <li>
            <a class="social-icon" target="_blank" href="https://github.com/guzey"
               style="z-index: 2; position:relative;">
                <div data-icon="ei-sc-github"></div>
            </a>
        </li>
        <li>
            <a class="social-icon" target="_blank" href="https://linkedin.com/in/alexeyguzey"
               style="z-index: 2; position:relative;">
                <div data-icon="ei-sc-linkedin"></div>
            </a>
        </li>
    </ul>
    <p>Hi–I'm Alexey.</p>
    <p>
        I'm a senior at <a target="_blank" href="http://hse.ru/en" style="z-index: 2; position:relative;">Higher School
        of Economics</a> in Moscow, where I study Economics and Math.
    </p>
    <p>
        I enjoy solving complex problems; I love helping people; I want the future to be humane and I want to make it
        happen faster. If you're interested in hiring me, check out my <a href="files/AlexeyGuzeyResume.pdf" style="z-index: 2; position:relative;">resume</a>.
    </p>
    <p>
    <h3>Stuff:</h3>
    <ul>
        <li><a href="x" style="z-index: 2; position:relative;">RAPIDLY PRESS X TO REFUSE TO COME TO TERMS WITH YOUR OWN
            MORTALITY</a>, an interactive experience.
        </li>
        <li><a href="icef/2/matec/matec_notes.pdf" style="z-index: 2; position:relative;">Matec Notes</a>–notes I wrote
            for the Mathematics for Economists course I took at my uni. Should be helpful if you're studying basics of
            multivariable calculus.
        </li>
        <li><a href="blog" style="z-index: 2; position:relative;">A blog</a>. My favorite posts:
            <ul>
                <li><a href="blog/jaynes" style="z-index: 2; position:relative;">A review / critique</a> of Julian
                    Jaynes' <i>The Origin of Consciousness in the Breakdown of the Bicameral Mind</i>.
                </li>
                <li><a href="blog/philosophers-for-sale" style="z-index: 2; position:relative;">A liberal
                    translation</a> of Lucian's play <i>Philosophers for Sale</i>.
                </li>
                <li><a href="blog/anki" style="z-index: 2; position:relative;">An intro</a> to an app called Anki which
                    makes your long-term memory accountable.
                </li>
                <li><a href="blog/thought-patterns-marginal" style="z-index: 2; position:relative;">A tutorial</a> on
                    how to change your persistent behaviours and thought-patterns, with help of Anki.
                </li>
            </ul>
        </li>


    </ul>

    </p>
    <p>
        You can contact me by email at <a target="_blank" href="mailto:alexey@guzey.com" style="z-index: 2; position:relative;">alexey@guzey.com</a>
        or on social media above.
    </p>
    <br>
    <p style="text-align: center; font-size: 16px">Вы могли искать <a href="http://guzei.com">Guzei.com</a></p>
</div>
<script src="public/matter.min.js" type="text/javascript"></script>
<script>

    // on small screens / without mouse the game works shitty
    // OH GOD WHY CAN'T I JUST DETECT MOUSE
    if (window.innerWidth > 800 && window.innerHeight > 600)
    {
        var current_life_stage = -1
        var life_stages = ["oh hi there",
            "you probably thought this was food",
            "i'm sorry it's not",
            "it's epinephrine and it's the reason you're not dead just yet",
            "each shot keeps you alive for several more seconds",
            "but honestly the overdose is inevitable",
            "the question is just which comes first",
            "you might notice that you're getting more jumpy with each shot",
            "this is adrenaline pumping through your veins",
            "you might also notice that each shot is becoming redder and redder",
            "this is an indicator of how close to the fatal dose you are",
            "once it turns fully red you're done",
            "you're probably wondering what the hell is happening here anyways",
            "and why you're dying at all",
            "but we will all eventually disintegrate and disappear won't we",
            "for the luckier ones death will be fast and painless",
            "some will find it in under bizarre and perhaps unfortunate circumstances",
            "we can't know",
            "we can just hope",
            "maybe sign up for cryonics to get the brain frozen or some shit",
            "but i'm getting sidetracked",
            "i wanted to talk to you about something important",
            "trump",
            "jk lol",
            "but really",
            "only one thing matters right now",
            "the indicator is almost totally red and you're erratic bordering on uncontrollable",
            "which means that the end is close",
            "i hope you enjoyed your ride",
            "i hope you have done everything you could do in your life",
            "i hope it was not all meaningless",
            "i'm sorry",
            "i was happy to meet you",
            "goodbye",
            ""]
        var life_length = life_stages.length,
            start_button = document.getElementById("start_button"),
            start_button_coords = start_button.getBoundingClientRect(),
            text = document.getElementById("text"),
            text_coords = text.getBoundingClientRect()

        var shader_layer = document.getElementById("shader_layer")

        var snakesback = document.getElementById("snakesback")
        var cc = document.getElementById("container content")

        var Engine = Matter.Engine,
            Render = Matter.Render,
            Runner = Matter.Runner,
            Body = Matter.Body,
            Events = Matter.Events,
            Composite = Matter.Composite,
            Composites = Matter.Composites,
            Constraint = Matter.Constraint,
            Common = Matter.Common,
            Query = Matter.Query,
            MouseConstraint = Matter.MouseConstraint,
            Mouse = Matter.Mouse,
            World = Matter.World,
            Bodies = Matter.Bodies,
            Vertices = Matter.Vertices

        // create engine
        var engine = Engine.create(),
            world = engine.world
        engine.world.gravity.y = 0

        var w = window.innerWidth - 24
        var h = window.innerHeight

        // create renderer
        var render = Render.create({
            element: snakesback,
            engine: engine,
            options: {
                width: w,
                height: h,
                background: 'transparent',
                wireframes: false
            }
        })

        Render.run(render)

        // create runner
        var runner = Runner.create()
        Runner.run(runner, engine)

        // add bodies
        var snake = Composites.stack(w / 2 - w / 3, h / 2, 80, 1, 5, 10, function (x, y) {
            return Bodies.circle(x - 20, y, 10, {collisionFilter: {group: -1}})
        })
        Composites.chain(snake, 0, 0, 0, 0, {stiffness: 1, length: 0})
        Composite.rotate(snake, Math.PI * 4 / 3, {x: w / 2 - w / 3, y: h / 2})

        //    var star = Vertices.fromPath('50 0 63 38 100 38 69 59 82 100 50 75 18 100 31 59 0 38 37 38'),
        //        concave = Bodies.fromVertices(200, 200, star, { collisionFilter: { group: -1 } })

        first_mass = snake.bodies[0].mass
        for (i = 0; i < snake.bodies.length; i++) {
            snake.bodies[i].mass = snake.bodies[0].mass * (500 * i + 1)
        }
        World.add(world, [
            snake
        ])

        //    var extend_snake = function() {
        //        var circle = Bodies.circle(
        //            snake.bodies[snake.bodies.length-1].position.x + 5,
        //            snake.bodies[snake.bodies.length-1].position.y,
        //            10,
        //            {collisionFilter: {group: -1}})
        //
        //        circle.mass = snake.bodies[snake.bodies.length-1].mass + snake.bodies[0].mass * 500
        //        Composite.add(snake, circle)
        //        var constraint = Constraint.create({
        //            bodyA: snake.bodies[snake.bodies.length-2],
        //            bodyB: snake.bodies[snake.bodies.length-1]
        //        })
        //
        //        World.add(world, [
        //            circle,
        //            constraint
        //        ])
        //    }

        var force_constant = 0.0004
        var random_pull_constant = 50


        // this is the force that pulls the snake to the mouse
        var pull_force = function (engine) {

            var mouse = mouseConstraint.mouse,
                context = render.context,
                bodies = Composite.allBodies(engine.world),
                endPoint = mouse.position

            for (i = 0; i < bodies.length; i++) {
                var body = bodies[i]

                if (!body.isStatic) {

                    var force_x = 0.01 * (endPoint.x - body.position.x) * (1 + 3 * current_life_stage / life_length)
                    var force_y = 0.012 * (endPoint.y - body.position.y) * (1 + 3 * current_life_stage / life_length)
                    var random_pull = (Math.random() * 2 * random_pull_constant - random_pull_constant) * ((current_life_stage + 1) / life_length)

                    if (endPoint.x - body.position.x > 0) {
                        if (endPoint.y - body.position.y > 0) {
                            Body.applyForce(body, body.position, {
                                x: force_constant * (0.5 + force_x + random_pull),
                                y: force_constant * (0.5 + force_y + random_pull)
                            })
                        } else {
                            Body.applyForce(body, body.position, {
                                x: force_constant * (0.5 + force_x + random_pull),
                                y: force_constant * (-0.5 + force_y + random_pull)
                            })
                        }
                    } else {
                        if (endPoint.y - body.position.y > 0) {
                            Body.applyForce(body, body.position, {
                                x: force_constant * (-0.5 + force_x + random_pull),
                                y: force_constant * (0.5 + force_y + random_pull)
                            })
                        } else {
                            Body.applyForce(body, body.position, {
                                x: force_constant * (-0.5 + force_x + random_pull),
                                y: force_constant * (-0.5 + force_y + random_pull)
                            })
                        }
                    }
                }
            }
        }

        // check if snake eats the food
        var snake_collides = function (body) {
            return (snake.bodies[0].position.x > start_button_coords.left &&
                snake.bodies[0].position.x < start_button_coords.right &&
                snake.bodies[0].position.y > start_button_coords.top &&
                snake.bodies[0].position.y < start_button_coords.bottom
            )
        }

        //    Action!!!

        // game length in 1/60 of a second
        var t = 0
        var start_button_timer = 1
        var endgame = 0
        var epinephrine = 0
        var epinephrine_time = 0
        Events.on(engine, 'afterUpdate', function (event) {
            pull_force(engine)
//        document.getElementById('qty').value = snake.bodies.length
            t++
            if (t % 2 === 0) {
                if (endgame === 1) {
                    Composite.remove(snake, snake.bodies[snake.bodies.length - 1])
                    Composite.remove(snake, snake.constraints[snake.constraints.length - 1])
                }
            }
            if (start_button_timer > 0) {
                if (start_button_timer === 1200) {
                    start_button.style.visibility = "visible"
                    start_button.style.width = 64 + "px"
                    start_button.style.height = 64 + "px"
                    start_button_coords = start_button.getBoundingClientRect()
                    if (snake.bodies[0].position.y < window.innerHeight / 2) {
                        start_button.style.left = (window.innerWidth / 2 - start_button_coords.width / 2) + "px"
                        start_button.style.top = (window.innerHeight * 3 / 5 - start_button_coords.height / 2) + "px"
                    } else {
                        start_button.style.left = (window.innerWidth / 2 - start_button_coords.width / 2) + "px"
                        start_button.style.top = (window.innerHeight / 3 - start_button_coords.height / 2) + "px"
                    }
                    start_button_coords = start_button.getBoundingClientRect()
                    start_button_timer = 0
                } else {
                    start_button_timer++
                }
            }
            if (t - epinephrine_time > 300) {
                epinephrine = 0
            }

//            k++
//            if (k < 8) {
//                extend_snake()
//            Composites.chain(snake, 0, 0, 0, 0, {stiffness: 1, length: 0})
//            }

            // life progression
            if (endgame === 0) {
                if (start_button_timer > 600 || start_button_timer === 0) {
                    if (t % 30 === 0 && epinephrine === 0) {
                        Composite.remove(snake, snake.bodies[snake.bodies.length - 1])
                        Composite.remove(snake, snake.constraints[snake.constraints.length - 1])
                        if (snake.bodies.length === 3) {
                            endgame_function()
                        }
                    }
                }

                if (snake_collides(start_button)
                ) {
                    if (current_life_stage === -1) {
                        shader_layer.style.opacity = 0.85
                        shader_layer.style.zIndex = 3
                        shader_layer.style.width = w + "px"
                        shader_layer.style.height = h + "px"
                        start_button.style.width = 128 + "px"
                        start_button.style.height = 128 + "px"
                        start_button.className = "life"
                        start_button.style.opacity = 0.8
                        snakesback.style.zIndex = 4
                        snakesback.style.backgroundColor = "#fff"
                        text.style.zIndex = 3
                    }
                    if (current_life_stage < life_stages.length - 1) {
                        do {
                            var start_button_left_candidate = 64 + Math.random() * (w - text_coords.width - 128)
                            var start_button_top_candidate = 64 + Math.random() * (h - 256)
                        } while (Math.sqrt(Math.pow(start_button_coords.left - start_button_left_candidate, 2)
                            + Math.pow(start_button_coords.top - start_button_top_candidate, 2)) < 256)
                        start_button.style.left = start_button_left_candidate + "px"
                        start_button.style.top = start_button_top_candidate + "px"

                        epinephrine = 1
                        epinephrine_time = t
                        current_life_stage += 1
                        if (current_life_stage > 0) {
                            text.innerText = life_stages[current_life_stage - 1]
                            text.style.left = start_button_coords.left + "px"
                            text.style.top = start_button_coords.bottom + "px"
                        }
                        start_button_coords = start_button.getBoundingClientRect()
                        start_button.style.backgroundColor = "rgba("
                            + (128 + Math.floor(127 * current_life_stage / life_length)) + ", "
                            + (255 - Math.floor(255 * current_life_stage / life_length)) + ", "
                            + (128 - Math.floor(128 * current_life_stage / life_length))
                            + ", 0.9)"
                    } else {
                        endgame_function()
                    }

                }
            }

        })

        var endgame_function = function () {
            window.removeEventListener('scroll', noscroll)
            shader_layer.style.visibility = "hidden"
            start_button.remove()
            fadeIn(cc)
            snakesback.style.zIndex = -1
            text.style.zIndex = -1
            text.innerText = ""
            endgame = 1

        }

        // add mouse control
        var mouse = Mouse.create(render.canvas),
            mouseConstraint = MouseConstraint.create(engine, {
                mouse: mouse,
                constraint: {
                    stiffness: 0.2,
                    render: {
                        visible: false
                    }
                }
            })

        World.add(world, mouseConstraint)

        // keep the mouse in sync with rendering
        mouse.element.removeEventListener("mousewheel", mouse.mousewheel)
        mouse.element.removeEventListener("DOMMouseScroll", mouse.mousewheel)
        render.mouse = mouse

        // fit the render viewport to the scene
        Render.lookAt(render, {
            min: {x: 0, y: 0},
            max: {x: w, y: h}
        })

        // http://davidwells.io/snippets/disable-scrolling-with-javascript/
        function noscroll() {
            window.scrollTo(0, 0)
        }
        window.addEventListener('scroll', noscroll)

        // http://www.chrisbuttery.com/articles/fade-in-fade-out-with-javascript/
        function fadeIn(el, display){
            el.style.opacity = 0.15;
            el.style.display = display || "block";

            (function fade() {
                var val = parseFloat(el.style.opacity);
                if (!((val += .003) > 1)) {
                    el.style.opacity = val;
                    requestAnimationFrame(fade);
                }
            })();
        }
    }

</script>