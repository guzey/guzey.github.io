<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700' rel='stylesheet' type='text/css'>
    <title>X</title>
    <style>

    </style>
    <link rel="stylesheet" href="style.css">
</head>
<body>

<canvas id="gameCanvas"></canvas>
<canvas id="interfaceCanvas"></canvas>
<div id="interface">
    <div id="menuButton" class="menu_button">
        <p id="menuButton-text" style="line-height: 1.6; font-weight: 600;">MENU</p>
    </div>
    <div id="YButton" class="interface_button">
        <p id="YButton-text" style="line-height: 1.2; font-weight: 700;">Y</p>
    </div>
    <div id="XButton" class="interface_button">
        <p id="Xbutton-text" style="line-height: 1.2; font-weight: 700;">X</p>
    </div>
</div>
<script>
    // this was originally a breakout game, lol: http://breakout.enclavegames.com/
    // I will most likely remove any references to this in the future, as the code becomes rewritten entirely
    var canvas = document.getElementById("gameCanvas")
    var ctx = canvas.getContext("2d")
    var brickCount = 60
    var brickWidth = 15
    var brickHeight = 25
    var brickPadding = 10
    var brickOffsetTop = 30
    var OffsetOfTopBrick = brickOffsetTop
    var brickOffsetLeft = 30
    var bricks = []
    var currentBrick = 0
    var firstBrick
    for(i=0; i<brickCount; i++) {
        bricks[i] = { x: 0, y: 0, status: 1 }
    }
    function removeBrick() {
        if ( currentBrick < brickCount) {
            bricks[currentBrick].status = 0
            currentBrick++
        }
    }
    function drawBricks() {
        var bricksInRow = 0
        var currentRow = 0
        firstBrick = false
        for(i=0; i<brickCount; i++) {
            if(bricks[i].status == 1) {
                if (firstBrick == false) {
                    firstBrick = i
                }
                var brickX = (bricksInRow*(brickWidth+brickPadding))+brickOffsetLeft
                var brickY = (currentRow*(brickHeight+brickPadding))+brickOffsetTop
                bricks[i].x = brickX
                bricks[i].y = brickY
                ctx.beginPath()
                ctx.rect(brickX, brickY, brickWidth, brickHeight)
                ctx.fillStyle = "#0095DD"
                ctx.fill()
                ctx.closePath()
            }
            if (bricksInRow < 4) {
                bricksInRow++
            } else {
                currentRow += 1
                bricksInRow = 0
            }
        }
    }
    function drawText(text) {
        ctx.font = "48px Open Sans"
        ctx.fillStyle = "#dd2bda"
        ctx.fillText(text, 200, 100)
    }
    function draw() {
        ctx.clearRect(0, 0, canvas.width, canvas.height)
        ctx.canvas.width = window.innerWidth
        ctx.canvas.height = window.innerWidth*1.3
        drawBricks()
        if (currentBrick == brickCount) {
            drawText('You Won!')
        } else if (bricks[firstBrick].y < 0) {
            drawText('You Lost!!!!!!')
        } else {
            brickOffsetTop -= 0.2
        }
        requestAnimationFrame(draw)
    }
    draw()

    //
    // drawing the buttons
    //
    document.getElementById('menuButton').style.position = "absolute"
    document.getElementById('menuButton').style.top = window.innerHeight*0.14+'px'
    // buttons closer to center on large screens
    if (window.innerWidth < 1050) {
        document.getElementById('menuButton').style.left = window.innerWidth * 0.10 + 'px'
    } else {
        document.getElementById('menuButton').style.left = window.innerWidth * 0.3 + 'px'
    }
    document.getElementById('menuButton').style.width = window.innerHeight*0.16+'px'
    document.getElementById('menuButton').style.height = window.innerHeight*0.07+'px'
    document.getElementById('menuButton').style.borderRadius = window.innerHeight*0.04+'px'
    document.getElementById('menuButton').style.fontSize = window.innerHeight*0.04+'px'

    // height is already at 0.7
    document.getElementById('YButton').style.position = "absolute"
    document.getElementById('YButton').style.top = window.innerHeight*0.08+'px'
    // buttons closer to center on large screens
    if (window.innerWidth < 1050) {
        document.getElementById('YButton').style.left = window.innerWidth * 0.75 + 'px'
    } else {
        document.getElementById('YButton').style.left = window.innerWidth * 0.6 + 'px'
    }
    document.getElementById('YButton').style.width = window.innerHeight*0.08+'px'
    document.getElementById('YButton').style.height = window.innerHeight*0.08+'px'
    document.getElementById('YButton').style.borderRadius = window.innerHeight*0.04+'px'
    document.getElementById('YButton').style.fontSize = window.innerHeight*0.065+'px'

    document.getElementById('XButton').style.position = "absolute"
    document.getElementById('XButton').style.top = window.innerHeight*0.13+'px'
    // limit the horizontal distance between buttons so it would at least look ok on the desktop
    if (window.innerWidth < 1050) {
        document.getElementById('XButton').style.left = window.innerWidth*0.55+'px'
    } else {
        document.getElementById('XButton').style.left = window.innerWidth*0.6-125+'px'
    }
    document.getElementById('XButton').style.width = window.innerHeight*0.08+'px'
    document.getElementById('XButton').style.height = window.innerHeight*0.08+'px'
    document.getElementById('XButton').style.borderRadius = window.innerHeight*0.04+'px'
    document.getElementById('XButton').style.fontSize = window.innerHeight*0.065+'px'
    XButton.onclick = function() {
        if( currentBrick < brickCount) {
            bricks[currentBrick].status = 0
            currentBrick++
        }
    }
</script>

</body>
</html>